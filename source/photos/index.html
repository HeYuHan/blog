---
layout: false
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html,body{
            widows: 100%;
            height: 100%;
        }
        img {
            max-width: 100%;
            max-height: 100%;
            margin: 0 auto; 
        }
        #masonry{
            margin: 0 auto;  
        }
    </style>
    <link href="resource/js/textillate/assets/animate.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js"></script>
    <script src="https://cdn.bootcss.com/masonry/4.2.0/masonry.pkgd.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="resource/js/textillate/assets/jquery.lettering.js"></script>
    <script src="resource/js/textillate/jquery.textillate.js"></script>
   <script>
       
        var Resource=[
            {
                title:'初见',
                src:'1.jpg',
                desc:'弯弯细眉似月牙，黑黑眼睛会说话；小小脸蛋尖下巴，玲珑鼻下小嘴巴；一头香发顺肩下，柔美身姿人人夸；问伊人来自哪，掩面侧身指赵家；'
            },
            {
                title:'t1',
                src:'2.jpg',
                desc:''
            },
            {
                title:'t1',
                src:'3.jpg',
                desc:''
            },
            {
                title:'t1',
                src:'4.jpg',
                desc:''
            },
            {
                title:'t1',
                src:'5.jpg',
                desc:''
            },
            {
                title:'t1',
                src:'6.jpg',
                desc:''
            }
            ,
            {
                title:'t1',
                src:'7.jpg',
                desc:''
            }
        ]
        function ItemDetail(){
            var modal = $('#myModal');
            modal.remove();
            modal.appendTo(document.body);
            this.modal = modal;    
            this.title=modal.find('#myModalLabel');
            this.img = modal.find('#myModalImage');
            this.desc = modal.find('#myModalDesc');
        }
        ItemDetail.prototype.Show=function(item){
            this.modal.modal('show');
            this.title.html(item.title);
            this.img.attr('src',item.img.attr('src'));
            this.desc.html(item.desc);
            this.desc.textillate()
        }
        function Item(title,src,desc,modalBox,info) {
            this.container = $('#item').clone();
            this.container.attr('id','');
            this.title = title;
            this.img = this.container.find('img');
            this.desc = desc;
            this.info = info;
            this.img.attr('src',src);
            // this.title.appendTo(this.container);
            // this.img.appendTo(this.container);
            // this.desc.appendTo(this.container);
            this.container.show();
            var ins = this;
            this.container.click(function(){
                modalBox.Show(ins);
            });
        }
        Item.prototype.SetTitle=function(title){
            this.title.html(title);
        }
        Item.prototype.SetDesc=function(desc){
            this.desc.html(desc);
        }
        Item.prototype.SetImage=function(src){
            this.img.attr('src',src);
        }
        Item.prototype.appendTo=function(parent){
            this.container.appendTo(parent);
        }
        Item.prototype.css=function(css){
            this.container.css(css);
        }

        window.onload = function(){
            var modalBox = new ItemDetail();
            var container=$('#masonry');
            var width = parseInt($('#masonry').css("width"));
            for(var i=0;i<Resource.length;i++){
                var r = Resource[i];
                var item = new Item(r.title,'/photos/resource/image/'+r.src,r.desc,modalBox);
                item.appendTo(container);
                item.css({
                    width:(width/3),
                    //"max-width":"100%"
                })
            }
            // itemSelector     class选择器,默认'.item'，这个表示每个块的选择器 
            // columnWidth     一列的宽度 
            // isAnimated     使用jquery的布局变化,默认true 
            // animationOptions     animate属性渐变效果(Object { queue: false, duration: 500 }) 
            // gutterWidth     列的间隙 Integer 
            // isFitWidth     自适应浏览器宽度Boolean 
            // isResizableL     是否可调整大小 Boolean 
            // isRTL     使用从右到左的布局 Boolean
            container.imagesLoaded(function(){
                container.masonry({
                    itemSelector:'.photo.item',
                    isAnimated:true,
                    isFitWidth:true
                });
            })
            
        }
    </script>
    
</head>
<body>
    <div class="panel panel-danger">
        <div class="panel-heading">
            <h3 class="panel-title">我的照片墙</h3>
        </div>
        <div class="panel-body" style="padding:0px;">
                <div id="masonry">
                </div>
        </div>
    </div>
    <div class="photo item" id="item" style="display: none;">
            <img></img>
    </div>
    
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel"></h4>
                </div>
                <div class="modal-body">
                        <img id="myModalImage"><img>
                </div>
                <div class="modal-footer" style="text-align:left;">
                    <p id="myModalDesc"></p>
                    <!-- <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">提交更改</button> -->
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
</body>
</html>